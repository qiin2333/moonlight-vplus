<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:seekbar="http://schemas.moonlight-stream.com/apk/res/seekbar"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:divider="@drawable/preference_divider"
    android:layout="@layout/preference_category_material">

    <PreferenceCategory android:title="@string/category_basic_settings"
        android:key="category_basic_settings"
        android:layout="@layout/preference_category_material">
        <ListPreference
            android:key="list_resolution"
            android:title="@string/title_resolution_list"
            android:summary="@string/summary_resolution_list"
            android:entries="@array/resolution_names"
            android:entryValues="@array/resolution_values"
            android:defaultValue="1920x1080" />
        <ListPreference
            android:key="list_fps"
            android:title="@string/title_fps_list"
            android:summary="@string/summary_fps_list"
            android:entries="@array/fps_names"
            android:entryValues="@array/fps_values"
            android:defaultValue="60" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_bitrate_kbps"
            android:dialogMessage="@string/summary_seekbar_bitrate"
            seekbar:min="500"
            android:max="800000"
            seekbar:step="500"
            seekbar:keyStep="1000"
            seekbar:divisor="1000"
            android:summary="@string/summary_seekbar_bitrate"
            android:text="@string/suffix_seekbar_bitrate_mbps"
            android:title="@string/title_seekbar_bitrate" />
        <ListPreference
            android:key="frame_pacing"
            android:title="@string/title_frame_pacing"
            android:entries="@array/video_frame_pacing_names"
            android:entryValues="@array/video_frame_pacing_values"
            android:summary="@string/summary_frame_pacing"
            android:defaultValue="latency" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_resolutions_scale"
            android:dialogMessage="@string/summary_seekbar_scale"
            seekbar:min="50"
            android:max="400"
            android:defaultValue="100"
            seekbar:step="10"
            seekbar:keyStep="50"
            seekbar:divisor="1"
            android:summary="@string/summary_seekbar_scale"
            android:text="%"
            android:title="@string/title_seekbar_scale" />
        <com.limelight.preferences.CustomResolutionsPreference
                android:key="custom_resolutions"
                android:summary="@string/summary_custom_resolutions"
                android:title="@string/title_custom_resolutions" />
        <CheckBoxPreference
            android:key="checkbox_stretch_video"
            android:title="@string/title_checkbox_stretch_video"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_reverse_resolution"
            android:title="@string/title_checkbox_reverse_resolution"
            android:summary="@string/summary_checkbox_reverse_resolution"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_rotable_screen"
            android:title="允许屏幕旋转"
            android:summary="允许在串流时旋转屏幕（不会改变视频分辨率）"
            android:defaultValue="false" />
    </PreferenceCategory>
    <PreferenceCategory
        android:title="@string/category_screen_position_settings"
        android:icon="@drawable/ic_screen_position"
        android:layout="@layout/preference_category_material">
        <com.limelight.preferences.IconListPreference
            android:key="list_screen_position"
            android:title="@string/title_screen_position"
            android:summary="@string/summary_screen_position"
            android:entries="@array/screen_position_names"
            android:entryValues="@array/screen_position_values"
            android:defaultValue="center"
            app:entryIcons="@array/screen_position_icons" />
        
        <SeekBarPreference
            android:key="seekbar_screen_offset_x"
            android:title="@string/title_screen_offset_x"
            android:summary="@string/summary_screen_offset_x"
            android:defaultValue="0"
            android:max="100" />
        
        <SeekBarPreference
            android:key="seekbar_screen_offset_y"
            android:title="@string/title_screen_offset_y"
            android:summary="@string/summary_screen_offset_y"
            android:defaultValue="0"
            android:max="100" />
        
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_audio_settings"
        android:layout="@layout/preference_category_material">
        <ListPreference
            android:key="list_audio_config"
            android:title="@string/title_audio_config_list"
            android:summary="@string/summary_audio_config_list"
            android:entries="@array/audio_config_names"
            android:entryValues="@array/audio_config_values"
            android:defaultValue="2" />
        <CheckBoxPreference
            android:key="checkbox_enable_audiofx"
            android:title="@string/title_checkbox_enable_audiofx"
            android:summary="@string/summary_checkbox_enable_audiofx"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_enable_spatializer"
            android:title="@string/title_checkbox_enable_spatializer"
            android:summary="@string/summary_checkbox_enable_spatializer"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_enable_mic"
            android:title="@string/title_checkbox_enable_mic"
            android:summary="@string/summary_checkbox_enable_mic"
            android:defaultValue="false" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_mic_bitrate_kbps"
            android:dependency="checkbox_enable_mic"
            android:dialogMessage="@string/summary_seekbar_mic_bitrate"
            seekbar:min="32"
            android:max="256"
            seekbar:step="8"
            seekbar:keyStep="16"
            seekbar:divisor="1"
            android:defaultValue="64"
            android:summary="@string/summary_seekbar_mic_bitrate"
            android:text="@string/suffix_seekbar_mic_bitrate_kbps"
            android:title="@string/title_seekbar_mic_bitrate" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_gamepad_settings"
        android:key="category_gamepad_settings"
        android:layout="@layout/preference_category_material">
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_deadzone"
            android:defaultValue="7"
            android:max="20"
            android:summary="@string/summary_seekbar_deadzone"
            android:text="@string/suffix_seekbar_deadzone"
            android:title="@string/title_seekbar_deadzone"/>
        <CheckBoxPreference
            android:key="checkbox_multi_controller"
            android:title="@string/title_checkbox_multi_controller"
            android:summary="@string/summary_checkbox_multi_controller"
            android:defaultValue="true" />
        <CheckBoxPreference
            android:key="checkbox_usb_driver"
            android:title="@string/title_checkbox_xb1_driver"
            android:summary="@string/summary_checkbox_xb1_driver"
            android:defaultValue="true" />
        <CheckBoxPreference
            android:key="checkbox_usb_bind_all"
            android:dependency="checkbox_usb_driver"
            android:title="@string/title_checkbox_usb_bind_all"
            android:summary="@string/summary_checkbox_usb_bind_all"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_mouse_emulation"
            android:title="@string/title_checkbox_mouse_emulation"
            android:summary="@string/summary_checkbox_mouse_emulation"
            android:defaultValue="true" />
        <ListPreference
            android:key="analog_scrolling"
            android:dependency="checkbox_mouse_emulation"
            android:title="@string/title_analog_scrolling"
            android:summary="@string/summary_analog_scrolling"
            android:entries="@array/analog_scrolling_names"
            android:entryValues="@array/analog_scrolling_values"
            android:defaultValue="right" />
        <CheckBoxPreference
            android:key="checkbox_vibrate_fallback"
            android:title="@string/title_checkbox_vibrate_fallback"
            android:summary="@string/summary_checkbox_vibrate_fallback"
            android:defaultValue="false" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_vibrate_fallback_strength"
            android:dependency="checkbox_vibrate_fallback"
            android:defaultValue="100"
            android:max="200"
            android:summary="@string/summary_seekbar_vibrate_fallback_strength"
            android:text="@string/suffix_seekbar_vibrate_fallback_strength"
            android:title="@string/title_seekbar_vibrate_fallback_strength"/>
        <CheckBoxPreference
            android:key="checkbox_flip_face_buttons"
            android:title="@string/title_checkbox_flip_face_buttons"
            android:summary="@string/summary_checkbox_flip_face_buttons"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_gamepad_touchpad_as_mouse"
            android:title="@string/title_checkbox_gamepad_touchpad_as_mouse"
            android:summary="@string/summary_checkbox_gamepad_touchpad_as_mouse"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_gamepad_motion_sensors"
            android:title="@string/title_checkbox_gamepad_motion_sensors"
            android:summary="@string/summary_checkbox_gamepad_motion_sensors"
            android:defaultValue="true" />
        <CheckBoxPreference
            android:key="checkbox_gamepad_motion_fallback"
            android:title="@string/title_checkbox_gamepad_motion_fallback"
            android:summary="@string/summary_checkbox_gamepad_motion_fallback"
            android:defaultValue="false" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_input_settings"
        android:key="category_input_settings"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:key="checkbox_touchscreen_trackpad"
            android:title="@string/title_checkbox_touchscreen_trackpad"
            android:summary="@string/summary_checkbox_touchscreen_trackpad"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="pref_enable_double_click_drag"
            android:title="启用触控板双击拖动"
            android:summary="双击并按住后可拖动选择"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_sync_touch_event_with_display"
            android:title="@string/title_checkbox_sync_touch_event_with_display"
            android:summary="@string/summary_checkbox_sync_touch_event_with_display"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_enable_keyboard_toggle_in_native_touch"
            android:title="@string/title_checkbox_enable_keyboard_toggle_in_native_touch"
            android:summary="@string/summary_checkbox_enable_keyboard_toggle_in_native_touch"
            android:defaultValue="true" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_keyboard_toggle_fingers_native_touch"
            android:dependency="checkbox_enable_keyboard_toggle_in_native_touch"
            android:dialogMessage="@string/summary_seekbar_keyboard_toggle_fingers_native_touch"
            seekbar:min="3"
            android:max="10"
            seekbar:step="1"
            seekbar:keyStep="1"
            seekbar:divisor="1"
            android:defaultValue = "3"
            android:summary="@string/summary_seekbar_keyboard_toggle_fingers_native_touch"
            android:text="@string/suffix_seekbar_keyboard_toggle_fingers_native_touch"
            android:title="@string/title_seekbar_keyboard_toggle_fingers_native_touch" />
        <CheckBoxPreference
            android:key="checkbox_mouse_nav_buttons"
            android:title="@string/title_checkbox_mouse_nav_buttons"
            android:summary="@string/summary_checkbox_mouse_nav_buttons"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_absolute_mouse_mode"
            android:title="@string/title_checkbox_absolute_mouse_mode"
            android:summary="@string/summary_checkbox_absolute_mouse_mode"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_enable_esc_menu"
            android:title="@string/title_checkbox_enable_esc_menu"
            android:summary="@string/summary_checkbox_enable_esc_menu"
            android:defaultValue="true" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_enhanced_touch_settings"
        android:key="category_enhanced_touch"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:defaultValue="true"
            android:key="checkbox_enable_enhanced_touch"
            android:summary="@string/summary_checkbox_enable_enhanced_touch"
            android:title="@string/title_checkbox_enable_enhanced_touch" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_flat_region_pixels"
            android:dependency="checkbox_enable_enhanced_touch"
            android:dialogMessage="@string/summary_seekbar_long_press_flat_region"
            seekbar:min="0"
            android:max="250"
            seekbar:step="1"
            seekbar:keyStep="1"
            seekbar:divisor="1"
            android:defaultValue = "0"
            android:summary="@string/summary_seekbar_long_press_flat_region"
            android:text="@string/suffix_seekbar_flat_region_pixels"
            android:title="@string/title_seekbar_long_press_flat_region" />
        <CheckBoxPreference
            android:key="checkbox_enhanced_touch_on_which_side"
            android:dependency="checkbox_enable_enhanced_touch"
            android:title="@string/title_checkbox_enhanced_touch_on_which_side"
            android:summary="@string/summary_checkbox_enhanced_touch_on_which_side"
            android:defaultValue="false" />
        <com.limelight.preferences.SeekBarPreference
            android:key="enhanced_touch_zone_divider"
            android:dependency="checkbox_enable_enhanced_touch"
            android:dialogMessage="@string/dialog_title_enhanced_touch_zone_divider"
            seekbar:min="0"
            seekbar:step="1"
            android:max="100"
            android:defaultValue="50"
            android:summary="@string/summary_enhanced_touch_zone_divider"
            android:text="@string/suffix_enhanced_touch_zone_divider"
            android:title="@string/title_enhanced_touch_zone_divider" />
        <com.limelight.preferences.SeekBarPreference
            android:key="pointer_velocity_factor"
            android:dependency="checkbox_enable_enhanced_touch"
            android:dialogMessage="@string/dialog_title_pointer_velocity_factor"
            seekbar:min="0"
            seekbar:step="1"
            android:max="500"
            android:defaultValue="100"
            android:summary="@string/summary_pointer_velocity_factor"
            android:text="@string/suffix_pointer_velocity_factor"
            android:title="@string/title_pointer_velocity_factor" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_on_screen_controls_settings"
        android:key="category_onscreen_controls"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:defaultValue="false"
            android:key="checkbox_show_onscreen_controls"
            android:summary="@string/summary_checkbox_show_onscreen_controls"
            android:title="@string/title_checkbox_show_onscreen_controls" />
        <CheckBoxPreference
            android:key="checkbox_vibrate_osc"
            android:dependency="checkbox_show_onscreen_controls"
            android:title="@string/title_checkbox_vibrate_osc"
            android:summary="@string/summary_checkbox_vibrate_osc"
            android:defaultValue="true" />
        <CheckBoxPreference
            android:defaultValue="false"
            android:dependency="checkbox_show_onscreen_controls"
            android:key="checkbox_only_show_L3R3"
            android:summary="@string/summary_only_l3r3"
            android:title="@string/title_only_l3r3" />
        <CheckBoxPreference
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:defaultValue="true"
            android:dependency="checkbox_show_onscreen_controls"
            android:key="checkbox_show_guide_button"
            android:summary="@string/summary_show_guide_button"
            android:title="@string/title_show_guide_button" />
        <CheckBoxPreference
            android:key="checkbox_half_height_osc_portrait"
            android:dependency="checkbox_show_onscreen_controls"
            android:title="竖屏模式半高"
            android:summary="竖屏下控制按钮将显示于下半屏"
            android:defaultValue="true" />
        <com.limelight.preferences.SeekBarPreference
            android:key="seekbar_osc_opacity"
            android:dependency="checkbox_show_onscreen_controls"
            android:dialogMessage="@string/summary_osc_opacity"
            seekbar:min="0"
            seekbar:step="1"
            android:max="100"
            android:defaultValue="90"
            android:summary="@string/summary_osc_opacity"
            android:text="@string/suffix_osc_opacity"
            android:title="@string/dialog_title_osc_opacity" />
        <com.limelight.preferences.ConfirmDeleteOscPreference
            android:title="@string/title_reset_osc"
            android:summary="@string/summary_reset_osc"
            android:dialogTitle="@string/dialog_title_reset_osc"
            android:dialogMessage="@string/dialog_text_reset_osc"
            android:positiveButtonText="@string/yes"
            android:negativeButtonText="@string/no"
            />
    </PreferenceCategory>
    <PreferenceCategory 
        android:title="@string/category_crown_features"
        android:icon="@drawable/ic_enhance"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:defaultValue="false"
            android:key="checkbox_show_onscreen_keyboard"
            android:summary="@string/summary_crown_super_features"
            android:title="@string/title_crown_super_features" />
        <ListPreference
            android:key="export_super_config"
            android:title="@string/title_export_super_config"
            android:summary="@string/summary_export_super_config" />
        <Preference
            android:key="import_super_config"
            android:title="@string/title_import_super_config"
            android:summary="@string/summary_import_super_config" />
        <ListPreference
            android:key="merge_super_config"
            android:title="@string/title_merge_super_config"
            android:summary="@string/summary_merge_super_config" />
        <Preference
            android:key="about_author"
            android:title="@string/title_about_author"
            android:summary="@string/summary_about_author" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_host_settings"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:key="checkbox_enable_sops"
            android:title="@string/title_checkbox_enable_sops"
            android:summary="@string/summary_checkbox_enable_sops"
            android:defaultValue="true" />
        <CheckBoxPreference
            android:key="checkbox_host_audio"
            android:title="@string/title_checkbox_host_audio"
            android:summary="@string/summary_checkbox_host_audio"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:defaultValue="false"
            android:key="checkbox_lock_screen_after_disconnect"
            android:summary="@string/summary_checkbox_lock_screen_after_disconnect"
            android:title="@string/title_checkbox_lock_screen_after_disconnect" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_ui_settings"
        android:key="category_ui_settings"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:key="checkbox_enable_pip"
            android:title="@string/title_checkbox_enable_pip"
            android:summary="@string/summary_checkbox_enable_pip"
            android:defaultValue="false" />
        <com.limelight.preferences.ExternalDisplayPreference
            android:key="use_external_display"
            android:title="@string/title_use_external_display"
            android:summary="@string/summary_use_external_display"
            android:defaultValue="false" />
        <com.limelight.preferences.LanguagePreference
            android:key="list_languages"
            android:title="@string/title_language_list"
            android:entries="@array/language_names"
            android:entryValues="@array/language_values"
            android:summary="@string/summary_language_list"
            android:defaultValue="default" />
        <com.limelight.preferences.SmallIconCheckboxPreference
            android:key="checkbox_small_icon_mode"
            android:title="@string/title_checkbox_small_icon_mode"
            android:summary="@string/summary_checkbox_small_icon_mode" />
        <EditTextPreference
            android:key="background_image_url"
            android:title="@string/title_background_image_api"
            android:summary="@string/summary_background_image_api"
            android:dialogTitle="@string/dialog_title_background_image_api"
            android:dialogMessage="@string/dialog_message_background_image_api"
            android:defaultValue="" />
        <CheckBoxPreference
            android:key="checkbox_enable_analytics"
            android:title="@string/title_enable_analytics"
            android:summary="@string/summary_enable_analytics"
            android:defaultValue="true" />
    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_advanced_settings"
        android:key="category_advanced_settings"
        android:layout="@layout/preference_category_material">
        <CheckBoxPreference
            android:key="checkbox_unlock_fps"
            android:title="@string/title_unlock_fps"
            android:summary="@string/summary_unlock_fps"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_reduce_refresh_rate"
            android:title="@string/title_checkbox_reduce_refresh_rate"
            android:summary="@string/summary_checkbox_reduce_refresh_rate"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_disable_warnings"
            android:title="@string/title_checkbox_disable_warnings"
            android:summary="@string/summary_checkbox_disable_warnings"
            android:defaultValue="false" />
        <ListPreference
            android:key="video_format"
            android:title="@string/title_video_format"
            android:entries="@array/video_format_names"
            android:entryValues="@array/video_format_values"
            android:summary="@string/summary_video_format"
            android:defaultValue="auto" />
        <CheckBoxPreference
            android:key="checkbox_enable_hdr"
            android:title="@string/title_enable_hdr"
            android:summary="@string/summary_enable_hdr"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_full_range"
            android:title="@string/title_full_range"
            android:summary="@string/summary_full_range"
            android:defaultValue="false" />
        <CheckBoxPreference
            android:key="checkbox_enable_perf_overlay"
            android:title="@string/title_enable_perf_overlay"
            android:summary="@string/summary_enable_perf_overlay"
            android:defaultValue="false"/>
                 <com.limelight.preferences.PerfOverlayOrientationPreference
            android:key="list_perf_overlay_orientation"
            android:title="@string/title_perf_overlay_orientation"
            android:summary="@string/summary_perf_overlay_orientation"
            android:entries="@array/perf_overlay_orientation_names"
            android:entryValues="@array/perf_overlay_orientation_values"
            android:defaultValue="horizontal"
            android:dependency="checkbox_enable_perf_overlay"/>
        <com.limelight.preferences.DynamicPerfOverlayPositionPreference
            android:key="list_perf_overlay_position"
            android:title="@string/title_perf_overlay_position"
            android:summary="@string/summary_perf_overlay_position"
            android:defaultValue="top"
            android:dependency="checkbox_enable_perf_overlay"/>
        <!-- <com.limelight.preferences.ResetPerfOverlayPositionPreference
            android:key="reset_perf_overlay_position"
            android:title="@string/title_reset_perf_overlay_position"
            android:summary="@string/summary_reset_perf_overlay_position"
            android:dependency="checkbox_enable_perf_overlay"/> -->
        <com.limelight.preferences.PerfOverlayDisplayItemsPreference
            android:key="perf_overlay_display_items"
            android:title="@string/title_perf_overlay_display_items"
            android:summary="@string/summary_perf_overlay_display_items"
            android:dependency="checkbox_enable_perf_overlay"/>
        <CheckBoxPreference
            android:key="checkbox_enable_post_stream_toast"
            android:title="@string/title_enable_post_stream_toast"
            android:summary="@string/summary_enable_post_stream_toast"
            android:defaultValue="false"/>

    </PreferenceCategory>
    <PreferenceCategory android:title="@string/category_help"
        android:key="category_help"
        android:layout="@layout/preference_category_material">
        <!-- <com.limelight.preferences.WebLauncherPreference
            android:title="@string/title_setup_guide"
            android:summary="@string/summary_setup_guide"
            url="https://github.com/moonlight-stream/moonlight-docs/wiki/Setup-Guide"/>
        <com.limelight.preferences.WebLauncherPreference
            android:title="@string/title_troubleshooting"
            android:summary="@string/summary_troubleshooting"
            url="https://github.com/moonlight-stream/moonlight-docs/wiki/Troubleshooting"/> -->
        <Preference
            android:key="check_for_updates"
            android:title="检查更新"
            android:summary="检查应用是否有新版本可用" />
        <com.limelight.preferences.AboutDialogPreference
            android:title="@string/title_about_mode"
            android:summary="@string/summary_about_mode" />
        <com.limelight.preferences.WebLauncherPreference
            android:title="@string/title_moonlight_vplus_pc_download"
            url="https://github.com/qiin2333/moonlight-qt"/>
        <com.limelight.preferences.WebLauncherPreference
            android:title="@string/title_privacy_policy"
            android:summary="@string/summary_privacy_policy"
            url="https://github.com/qiin2333/moonlight-android/blob/master/PRIVACY_POLICY.md"/>
    </PreferenceCategory>
</PreferenceScreen>
